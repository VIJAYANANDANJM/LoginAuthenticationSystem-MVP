# Render Environment Variables Setup

## ‚ö†Ô∏è Important: This is NOT a Vercel Issue

The error you're seeing is because the **backend URL is not configured** in Render. The verification links are generated by the **backend (on Render)**, not the frontend (on Vercel).

## Required Environment Variables in Render

Go to your **Render Dashboard** ‚Üí Your **Backend Service** ‚Üí **Environment** tab and add:

```env
# Backend URL (for email links - MUST be set!)
BACKEND_URL=https://loginauthenticationsystem-mvp.onrender.com

# Frontend URL (where users will be redirected after verification)
FRONTEND_URL=https://login-authentication-system-mvp.vercel.app

# Email Configuration
BREVO_API_KEY=your_brevo_api_key_here
EMAIL_FROM=noreply@yourdomain.com
EMAIL_FROM_NAME=Login Authentication System

# Database
MONGODB_URI=your_mongodb_connection_string

# JWT Secret
JWT_SECRET=your-super-secret-jwt-key

# Google OAuth (optional)
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret
```

## Why This Error Happens

The error `Cannot GET /api/auth/FRONTEND_URL=...` means:
- The `backendUrl` variable is empty/undefined
- So the generated link becomes: `/api/auth/FRONTEND_URL=...` (missing the domain)
- Instead of: `https://loginauthenticationsystem-mvp.onrender.com/api/auth/reset-password?token=...`

## Solution

1. **Set `BACKEND_URL` in Render** (most important!)
   ```env
   BACKEND_URL=https://loginauthenticationsystem-mvp.onrender.com
   ```

2. **Redeploy your backend** on Render

3. **Test** by registering a new account

## Fallback Logic

The code now tries multiple sources for the backend URL:
1. `BACKEND_URL` (explicit - best)
2. `API_URL` (alternative)
3. `RENDER_EXTERNAL_URL` (auto-set by Render)
4. Hardcoded production URL if `NODE_ENV=production`
5. `http://localhost:5000` for development

**But you should still set `BACKEND_URL` explicitly!**

## Vercel Configuration (Frontend)

For the **frontend on Vercel**, you only need:
- ‚úÖ `vercel.json` (already created) - handles React Router
- ‚úÖ No additional environment variables needed

The frontend doesn't generate verification links - it only receives redirects from the backend.

## Testing

After setting `BACKEND_URL` and redeploying:

1. Register a new account
2. Check email for verification link
3. The link should be: `https://loginauthenticationsystem-mvp.onrender.com/api/auth/verify-email?token=...&redirect=...`
4. Click it ‚Üí Should redirect to frontend with success message

---

**Remember: Set `BACKEND_URL` in Render, not Vercel!** üéØ

